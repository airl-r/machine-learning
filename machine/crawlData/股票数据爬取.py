# http://quote.eastmoney.com/center/gridlist.html


import requests
from fake_useragent import UserAgent
from bs4 import BeautifulSoup
import json
import csv


def getHtml(url):
    r = requests.get(url,headers={
        'User-Agent': UserAgent().random,
    })
    r.encoding = r.apparent_encoding
    return r.text

# 爬取多少
num = 20

stockUrl = ''

# jQuery112407601068313261734_1654934054985({"rc":0,"rt":6,"svr":182995782,"lt":1,"full":1,"dlmkts":"","data":{"total":1169,"diff":[{"f1":2,"f2":20.32,"f3":20.02,"f4":3.39,"f5":84286,"f6":167275166.0,"f7":15.24,"f8":9.29,"f9":53.95,"f10":5.98,"f11":0.0,"f12":"300932","f13":0,"f14":"三友联众","f15":20.32,"f16":17.74,"f17":17.74,"f18":16.93,"f20":3573908382,"f21":1842868349,"f22":0.0,"f23":2.19,"f24":-2.12,"f25":-24.74,"f62":39875743.0,"f115":33.19,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":32.32,"f3":20.01,"f4":5.39,"f5":100662,"f6":298473936.0,"f7":22.91,"f8":40.26,"f9":60.43,"f10":3.25,"f11":0.0,"f12":"301198","f13":0,"f14":"喜悦智行","f15":32.32,"f16":26.15,"f17":26.68,"f18":26.93,"f20":3232000000,"f21":808000000,"f22":0.0,"f23":3.64,"f24":12.5,"f25":-13.09,"f62":64739014.0,"f115":51.8,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":35.86,"f3":20.01,"f4":5.98,"f5":243355,"f6":814863520.0,"f7":20.82,"f8":5.24,"f9":41.2,"f10":1.41,"f11":0.0,"f12":"300428","f13":0,"f14":"立中集团","f15":35.86,"f16":29.64,"f17":29.85,"f18":29.88,"f20":22124076765,"f21":16643510487,"f22":0.0,"f23":4.28,"f24":52.66,"f25":36.71,"f62":60958305.0,"f115":49.05,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":43.08,"f3":20.0,"f4":7.18,"f5":218808,"f6":893937008.0,"f7":19.42,"f8":20.32,"f9":158.79,"f10":2.18,"f11":0.0,"f12":"300827","f13":0,"f14":"上能电气","f15":43.08,"f16":36.11,"f17":36.28,"f18":35.9,"f20":10235845221,"f21":4639854718,"f22":0.0,"f23":11.49,"f24":-11.58,"f25":-14.59,"f62":176732229.0,"f115":172.16,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":17.84,"f3":19.97,"f4":2.97,"f5":357816,"f6":595738240.0,"f7":20.31,"f8":8.55,"f9":18.89,"f10":1.77,"f11":0.0,"f12":"300415","f13":0,"f14":"伊之密","f15":17.84,"f16":14.82,"f17":14.98,"f18":14.87,"f20":8369559003,"f21":7461869722,"f22":0.0,"f23":4.06,"f24":10.53,"f25":-13.98,"f62":85039925.0,"f115":16.12,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":13.48,"f3":15.41,"f4":1.8,"f5":354064,"f6":460763920.0,"f7":18.66,"f8":9.37,"f9":39.85,"f10":3.11,"f11":-0.07,"f12":"300179","f13":0,"f14":"四方达","f15":13.75,"f16":11.57,"f17":11.69,"f18":11.68,"f20":6577458147,"f21":5095739620,"f22":0.0,"f23":6.7,"f24":20.9,"f25":23.56,"f62":24806505.0,"f115":59.42,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":17.99,"f3":14.08,"f4":2.22,"f5":141760,"f6":247779725.0,"f7":20.99,"f8":6.46,"f9":24.19,"f10":2.56,"f11":0.17,"f12":"300384","f13":0,"f14":"三联虹普","f15":18.83,"f16":15.52,"f17":15.69,"f18":15.77,"f20":5731585846,"f21":3950644891,"f22":0.11,"f23":2.67,"f24":-6.88,"f25":-24.7,"f62":1532996.0,"f115":28.89,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":45.79,"f3":13.76,"f4":5.54,"f5":99696,"f6":438145504.0,"f7":17.84,"f8":10.28,"f9":202.3,"f10":1.11,"f11":-0.2,"f12":"300745","f13":0,"f14":"欣锐科技","f15":46.89,"f16":39.71,"f17":40.0,"f18":40.25,"f20":5712516706,"f21":4438995427,"f22":-0.09,"f23":4.86,"f24":9.26,"f25":-28.68,"f62":40441578.0,"f115":199.36,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":82.08,"f3":11.2,"f4":8.27,"f5":35361,"f6":281472240.0,"f7":17.69,"f8":17.68,"f9":51.64,"f10":1.03,"f11":0.23,"f12":"300969","f13":0,"f14":"恒帅股份","f15":85.9,"f16":72.84,"f17":73.1,"f18":73.81,"f20":6566400000,"f21":1641600000,"f22":0.13,"f23":8.03,"f24":24.18,"f25":-17.99,"f62":14779538.0,"f115":55.42,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":35.0,"f3":11.11,"f4":3.5,"f5":33607,"f6":113803239.0,"f7":13.9,"f8":18.47,"f9":77.06,"f10":1.77,"f11":0.34,"f12":"301186","f13":0,"f14":"超达装备","f15":35.3,"f16":30.92,"f17":31.51,"f18":31.5,"f20":2546558770,"f21":637000000,"f22":0.17,"f23":2.34,"f24":-11.39,"f25":-21.42,"f62":8456564.0,"f115":57.8,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":93.38,"f3":10.21,"f4":8.65,"f5":149918,"f6":1316101312.0,"f7":13.54,"f8":5.73,"f9":29.76,"f10":1.15,"f11":-0.11,"f12":"300724","f13":0,"f14":"捷佳伟创","f15":93.8,"f16":82.33,"f17":83.0,"f18":84.73,"f20":32519617309,"f21":24420981695,"f22":0.42,"f23":5.07,"f24":10.4,"f25":-18.3,"f62":93072342.0,"f115":41.73,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":5.11,"f3":10.13,"f4":0.47,"f5":377711,"f6":191078664.0,"f7":15.52,"f8":12.58,"f9":-11.26,"f10":3.97,"f11":0.0,"f12":"300167","f13":0,"f14":"迪威迅","f15":5.38,"f16":4.66,"f17":4.68,"f18":4.64,"f20":1700761300,"f21":1534226400,"f22":0.2,"f23":6.9,"f24":-17.18,"f25":3.44,"f62":22103164.0,"f115":-8.88,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":14.19,"f3":10.0,"f4":1.29,"f5":320804,"f6":443262000.0,"f7":10.54,"f8":20.13,"f9":232.46,"f10":1.73,"f11":1.0,"f12":"300250","f13":0,"f14":"初灵信息","f15":14.29,"f16":12.93,"f17":13.02,"f18":12.9,"f20":3121656709,"f21":2261007313,"f22":0.07,"f23":4.46,"f24":-22.84,"f25":10.6,"f62":27149868.0,"f115":39.19,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":14.05,"f3":8.83,"f4":1.14,"f5":111384,"f6":153196904.0,"f7":11.23,"f8":4.84,"f9":24.38,"f10":1.38,"f11":-0.21,"f12":"300643","f13":0,"f14":"万通智控","f15":14.2,"f16":12.75,"f17":12.75,"f18":12.91,"f20":3231500000,"f21":3231500000,"f22":0.0,"f23":3.85,"f24":18.07,"f25":8.83,"f62":22686381.0,"f115":26.77,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":29.56,"f3":8.8,"f4":2.39,"f5":59710,"f6":172922930.0,"f7":10.31,"f8":8.72,"f9":31.81,"f10":1.75,"f11":0.14,"f12":"300835","f13":0,"f14":"龙磁科技","f15":29.86,"f16":27.06,"f17":27.22,"f18":27.17,"f20":3551308840,"f21":2025205852,"f22":0.1,"f23":3.68,"f24":-15.11,"f25":-30.15,"f62":7385485.0,"f115":27.35,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":20.33,"f3":8.72,"f4":1.63,"f5":85221,"f6":170275433.0,"f7":13.37,"f8":15.15,"f9":50.04,"f10":0.91,"f11":0.0,"f12":"300893","f13":0,"f14":"松原股份","f15":21.0,"f16":18.5,"f17":18.58,"f18":18.7,"f20":4574250000,"f21":1143562500,"f22":0.15,"f23":5.95,"f24":19.52,"f25":-20.06,"f62":-3217596.0,"f115":42.1,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":33.33,"f3":8.39,"f4":2.58,"f5":199432,"f6":611843440.0,"f7":15.54,"f8":57.14,"f9":99.17,"f10":0.92,"f11":3.51,"f12":"301298","f13":0,"f14":"C东利","f15":33.33,"f16":28.55,"f17":30.0,"f18":30.75,"f20":4892844000,"f21":1163301192,"f22":0.94,"f23":5.76,"f24":162.85,"f25":162.85,"f62":4737566.0,"f115":86.83,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":34.23,"f3":8.32,"f4":2.63,"f5":42855,"f6":143640259.0,"f7":9.49,"f8":25.21,"f9":38.59,"f10":1.91,"f11":0.15,"f12":"301226","f13":0,"f14":"祥明智能","f15":34.45,"f16":31.45,"f17":31.6,"f18":31.6,"f20":2327640000,"f21":581910000,"f22":0.06,"f23":2.73,"f24":17.91,"f25":17.91,"f62":13261725.0,"f115":35.77,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":129.05,"f3":8.15,"f4":9.73,"f5":69460,"f6":893710080.0,"f7":12.61,"f8":3.69,"f9":77.21,"f10":2.21,"f11":-0.04,"f12":"300919","f13":0,"f14":"中伟股份","f15":132.52,"f16":117.47,"f17":117.8,"f18":119.32,"f20":78677511896,"f21":24274763515,"f22":-0.12,"f23":7.68,"f24":11.41,"f25":-14.73,"f62":26061295.0,"f115":80.11,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2},{"f1":2,"f2":88.84,"f3":8.14,"f4":6.69,"f5":32220,"f6":278596240.0,"f7":12.14,"f8":7.22,"f9":92.29,"f10":1.77,"f11":0.02,"f12":"300681","f13":0,"f14":"英搏尔","f15":90.88,"f16":80.91,"f17":82.44,"f18":82.15,"f20":6809443856,"f21":3964482779,"f22":0.01,"f23":9.6,"f24":-2.95,"f25":-13.07,"f62":-19542817.0,"f115":107.78,"f128":"-","f140":"-","f141":"-","f136":"-","f152":2}]}});
